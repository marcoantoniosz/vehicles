{"ast":null,"code":"import _regeneratorRuntime from\"/home/tom/\\xC1rea de Trabalho/Personal_Projects/vehicles-challenge/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/tom/\\xC1rea de Trabalho/Personal_Projects/vehicles-challenge/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/tom/\\xC1rea de Trabalho/Personal_Projects/vehicles-challenge/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import AppContext from'../../context/AppContext';import{getByQuery,getAll}from'../../services/API';import PopUpFilters from'../PopUp';import style from'./style.module.css';import searchi from'../../icons/search.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBar(props){var getAllBtn=props.getAllBtn;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),term=_useState2[0],setTerm=_useState2[1];var _useContext=useContext(AppContext),setData=_useContext.setData;var handleInputChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setTerm(e.target.value);if(!(e.target.value==='')){_context.next=6;break;}_context.next=4;return getAll();case 4:response=_context.sent;setData(response);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleInputChange(_x){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(term!=='')){_context2.next=6;break;}_context2.next=4;return getByQuery(term);case 4:response=_context2.sent;setData(response);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:style.nav,children:[/*#__PURE__*/_jsx(\"input\",{className:style.input,type:\"text\",placeholder:\"\\uF002 Buscar\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:style.searchi,src:searchi,alt:\"search-icon\",onClick:handleSubmit}),/*#__PURE__*/_jsx(PopUpFilters,{}),/*#__PURE__*/_jsx(\"button\",{onClick:getAllBtn,children:\"Exibir todos\"})]});}","map":{"version":3,"names":["React","useContext","useState","AppContext","getByQuery","getAll","PopUpFilters","style","searchi","SearchBar","props","getAllBtn","term","setTerm","setData","handleInputChange","e","target","value","response","handleSubmit","preventDefault","nav","input"],"sources":["/home/tom/Área de Trabalho/Personal_Projects/vehicles-challenge/frontend/src/components/SearchBar/index.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport AppContext from '../../context/AppContext';\nimport { getByQuery, getAll } from '../../services/API';\nimport PopUpFilters from '../PopUp';\nimport style from './style.module.css';\nimport searchi from '../../icons/search.svg';\n\n\nexport default function SearchBar(props) {\n\n  const { getAllBtn } = props;\n\n  const [term, setTerm] = useState('');\n  const { setData } = useContext(AppContext);\n\n  const handleInputChange = async (e) => {\n    setTerm(e.target.value);\n    if (e.target.value === '') {\n      const response = await getAll();\n      setData(response);\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (term !== '') {\n      const response = await getByQuery(term);\n      setData(response);\n    }\n  }\n\n  return (\n    <form className={ style.nav }>\n      <input \n        className={ style.input }\n        type=\"text\" \n        placeholder=\"&#xf002; Buscar\"\n        onChange={handleInputChange}\n      />\n      <input type=\"submit\" className={ style.searchi } src={ searchi } alt=\"search-icon\" onClick={ handleSubmit } />\n      <PopUpFilters />\n      <button onClick={ getAllBtn }>Exibir todos</button>\n    </form>\n  )\n}\n"],"mappings":"mfAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,OAASC,UAAT,CAAqBC,MAArB,KAAmC,oBAAnC,CACA,MAAOC,aAAP,KAAyB,UAAzB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,QAAP,KAAoB,wBAApB,C,wFAGA,cAAe,SAASC,UAAT,CAAmBC,KAAnB,CAA0B,CAEvC,GAAQC,UAAR,CAAsBD,KAAtB,CAAQC,SAAR,CAEA,cAAwBT,QAAQ,CAAC,EAAD,CAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACA,gBAAoBZ,UAAU,CAACE,UAAD,CAA9B,CAAQW,OAAR,aAAQA,OAAR,CAEA,GAAMC,kBAAiB,4FAAG,iBAAOC,CAAP,iIACxBH,OAAO,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CADwB,KAEpBF,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAFC,gDAGCb,OAAM,EAHP,QAGhBc,QAHgB,eAItBL,OAAO,CAACK,QAAD,CAAP,CAJsB,sDAAH,kBAAjBJ,kBAAiB,4CAAvB,CAQA,GAAMK,aAAY,6FAAG,kBAAOJ,CAAP,qIACnBA,CAAC,CAACK,cAAF,GADmB,KAEfT,IAAI,GAAK,EAFM,kDAGMR,WAAU,CAACQ,IAAD,CAHhB,QAGXO,QAHW,gBAIjBL,OAAO,CAACK,QAAD,CAAP,CAJiB,wDAAH,kBAAZC,aAAY,8CAAlB,CAQA,mBACE,cAAM,SAAS,CAAGb,KAAK,CAACe,GAAxB,wBACE,cACE,SAAS,CAAGf,KAAK,CAACgB,KADpB,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,eAHd,CAIE,QAAQ,CAAER,iBAJZ,EADF,cAOE,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAGR,KAAK,CAACC,OAAvC,CAAiD,GAAG,CAAGA,OAAvD,CAAiE,GAAG,CAAC,aAArE,CAAmF,OAAO,CAAGY,YAA7F,EAPF,cAQE,KAAC,YAAD,IARF,cASE,eAAQ,OAAO,CAAGT,SAAlB,0BATF,GADF,CAaD"},"metadata":{},"sourceType":"module"}